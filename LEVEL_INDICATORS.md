# Индикаторы уровней в реферальном дереве

## Новый функционал: Отображение уровня вложенности

### Описание
В горизонтальных линиях (кружках) теперь отображается номер уровня вложенности для каждого реферала в структуре.

### Визуальные изменения

#### A. Стиль кружков
- **Размер**: 12x12px (компактный размер)
- **Цвет**: серо-голубой (#acb2d2)
- **Текст**: белый цвет, жирный шрифт (font-weight: 600)
- **Размер шрифта**: 8px (адаптирован под меньший размер)
- **Эффекты**: белая рамка (2px) и тень для лучшей видимости

#### B. Позиционирование
Обновлено позиционирование для всех 10 уровней (сдвинуто на 3px правее):
- **Уровень 0**: left: 19px
- **Уровень 1**: left: 7px  
- **Уровень 2**: left: 32px
- **Уровень 3**: left: 57px
- **Уровень 4**: left: 82px
- **Уровень 5**: left: 107px
- **Уровень 6**: left: 132px
- **Уровень 7**: left: 157px
- **Уровень 8**: left: 182px
- **Уровень 9**: left: 207px

### Логика отображения

#### Нумерация уровней:
- **Корневые рефералы (уровень 0)**: не имеют кружков
- **Дети (уровень 1)**: показывают "1" в кружке
- **Внуки (уровень 2)**: показывают "2" в кружке
- **Правнуки (уровень 3)**: показывают "3" в кружке
- И так далее до 10-го уровня

#### Техническая реализация:
```javascript
// В функции updateTreeLines()
if (level > 0) {
    const horizontalLine = document.createElement('div');
    horizontalLine.className = `tree-horizontal-line`;
    horizontalLine.textContent = level; // Отображаем номер уровня
    cell.appendChild(horizontalLine);
}
```

### CSS стили
```css
.tree-horizontal-line {
    position: absolute;
    height: 12px;
    width: 12px;
    background: #acb2d2;
    top: 30%;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 8px;
    font-weight: 600;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
```

### Преимущества

1. **Визуальная ясность**: Пользователь сразу видит, на каком уровне находится каждый реферал
2. **Навигация**: Легче ориентироваться в сложных структурах
3. **Отладка**: Проще понять структуру дерева при разработке
4. **Масштабируемость**: Поддержка до 10 уровней с четкой индикацией

### Совместимость

- ✅ Работает с динамически добавляемыми элементами
- ✅ Обновляется при раскрытии/сворачивании узлов
- ✅ Адаптивно для всех уровней (0-9)
- ✅ Сохраняет все существующие функции дерева

### Пример использования

При просмотре реферального дерева:
- Корневой реферал "john_doe" (без кружка)
- Его дети: "alice_brown" (кружок с "1"), "charlie_davis" (кружок с "1")
- Внуки: "eve_adams" (кружок с "2"), "frank_miller" (кружок с "2")
- И так далее...

Это значительно улучшает пользовательский опыт при работе с многоуровневыми реферальными структурами!
