# üö® –°–†–û–ß–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ï–†–í–ï–†–ê - –ê–ö–¢–ò–í–ê–¶–ò–Ø –ó–ê–©–ò–¢–´ API

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–Ø–ó–í–ò–ú–û–°–¢–¨ –û–ë–ù–ê–†–£–ñ–ï–ù–ê!

**–ü—Ä–æ–±–ª–µ–º–∞:** API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!
**–°—Ç–∞—Ç—É—Å:** `curl https://projects.inetskills.ru/api/referrals/tree` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∫–ª—é—á–∞

## üõ°Ô∏è –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø:

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@your-server-ip
```

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /var/www/html/royalq-salebot/
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose down
```

### 4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ git
```bash
git pull origin main
```

### 5. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
```bash
nano .env
```

**–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
# API Security (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
API_SECRET_KEY=06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=
JWT_SECRET=90klUvfhR+0h7DI5sB0pF96ruLqN12d4rjPNC0zh8cKbEiNeJGJrBoE24qfm+NPZlBAiBZFC0G2KBNiZBmQU0w==
SESSION_SECRET=06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
API_RATE_LIMIT_MAX_REQUESTS=50

# Security Headers
TRUST_PROXY=true
```

### 6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose build --no-cache
```

### 7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose up -d
```

### 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
```bash
docker-compose ps
```

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ó–ê–©–ò–¢–´:

### –¢–µ—Å—Ç 1: API –±–µ–∑ –∫–ª—é—á–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
```bash
curl https://projects.inetskills.ru/api/referrals/tree
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `{"error":"Unauthorized","message":"API key required"}`

### –¢–µ—Å—Ç 2: API —Å –∫–ª—é—á–æ–º (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
```bash
curl -H "x-api-key: 06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=" \
     https://projects.inetskills.ru/api/referrals/tree
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

### –¢–µ—Å—Ç 3: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
```bash
curl https://projects.inetskills.ru/network
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞

## üîß –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ü–û–õ–ê–î–û–ö:

### –ï—Å–ª–∏ API –≤—Å–µ –µ—â–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose exec app env | grep API_SECRET_KEY

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs app

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç API_SECRET_KEY
cat .env | grep API_SECRET_KEY
```

### –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
docker-compose down
docker-compose build --no-cache --pull
docker-compose up -d
```

## üìä –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê:

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
./scripts/test-server-security.sh localhost:3000

# –ò–ª–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
./scripts/test-server-security.sh https://projects.inetskills.ru
```

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:

1. **–ù–ï –û–¢–ö–õ–ê–î–´–í–ê–ô–¢–ï** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - API —Å–µ–π—á–∞—Å —É—è–∑–≤–∏–º!
2. **–ü–†–û–í–ï–†–¨–¢–ï** –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–°–û–•–†–ê–ù–ò–¢–ï** API –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
4. **–ú–û–ù–ò–¢–û–†–¨–¢–ï** –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## üìû –ü–û–î–î–ï–†–ñ–ö–ê:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs app`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `docker-compose exec app env | grep API`

---

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∞—à API –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤!
