# üõ°Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@your-server-ip
```

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /var/www/html/royalq-salebot/
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ git
```bash
git pull origin main
```

### 4. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
nano .env
```

**–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
# API Security
API_SECRET_KEY=06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=
JWT_SECRET=90klUvfhR+0h7DI5sB0pF96ruLqN12d4rjPNC0zh8cKbEiNeJGJrBoE24qfm+NPZlBAiBZFC0G2KBNiZBmQU0w==
SESSION_SECRET=06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
API_RATE_LIMIT_MAX_REQUESTS=50

# Security Headers
TRUST_PROXY=true
```

### 5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose down
```

### 6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose build --no-cache
```

### 7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose up -d
```

### 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
```bash
docker-compose ps
```

### 9. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –∫–ª—é—á–∞
curl http://localhost:3000/api/referrals/tree

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"error":"Unauthorized","message":"API key required"}

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–ª—é—á–æ–º
curl -H "x-api-key: 06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=" \
     http://localhost:3000/api/referrals/tree

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
curl http://localhost:3000/network

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. Health check
```bash
curl http://localhost:3000/health
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status":"OK",...}
```

### 2. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```bash
curl http://localhost:3000/network
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```

### 3. API –±–µ–∑ –∫–ª—é—á–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
```bash
curl http://localhost:3000/api/referrals/tree
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"error":"Unauthorized",...}
```

### 4. API —Å –∫–ª—é—á–æ–º (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
```bash
curl -H "x-api-key: 06ediHycd1Vi1MY4l/DuV5FKrY5ocu8l0ru3Q1zXq5E=" \
     http://localhost:3000/api/referrals/tree
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status":true,"data":[...]}
```

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ù–ï –Ω—É–∂–Ω—ã** - –≤—Å–µ middleware –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ —á–∏—Å—Ç–æ–º Node.js
2. **node-fetch** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö (–Ω–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º** –±–µ–∑ API –∫–ª—é—á–∞
4. **API endpoints —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω—ã** –∏ —Ç—Ä–µ–±—É—é—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –æ—à–∏–±–∫—É
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `API_SECRET_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ .env

### –ü—Ä–æ–±–ª–µ–º–∞: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã: `docker-compose ps`

### –ü—Ä–æ–±–ª–µ–º–∞: API –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –∫–ª—é—á–∞
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs app`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
- ‚úÖ API endpoints –∑–∞—â–∏—â–µ–Ω—ã —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º
- ‚úÖ Rate limiting –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –Ω–µ —Å–º–æ–≥—É—Ç –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∞—Ç–∞–∫

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ! –û–Ω –Ω—É–∂–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API.
